---
import { getLangFromUrl, useTranslations } from "@src/i18n";
import WebLayout from "../_components/layouts/web-layout/index.astro";
import WaveTimeline from "../_components/wave-timeline";
import SectionTitle from "@components/extras/section-title.astro";
import type { WebExperienceResponseDto } from "@modules/web/dtos/web.response.dto";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const { experiences, title, description } = Astro.locals.props as WebExperienceResponseDto;
---

<WebLayout title={title} description={description}>
  <main class="relative flex flex-col items-center pb-24 pt-12 md:pt-20">
    <div class="container mx-auto px-4">
      {/* Page Header */}
      <div
        class="mb-8 md:mb-12 animate-in fade-in slide-in-from-bottom-8 duration-1000 text-center md:text-left"
      >
        <SectionTitle title={t("header.briefcase")} className="mb-4" />
        <p
          class="text-muted-foreground font-mono text-sm tracking-widest uppercase max-w-2xl"
        >
          {t("home.experience")}
        </p>
      </div>

      {/* Main Timeline Section */}
      <section class="w-full relative z-10 py-6">
        <WaveTimeline experiences={experiences} lang={lang} client:load />
      </section>

      {/* Decorative background elements */}
      <div
        class="fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full h-full pointer-events-none -z-10 opacity-[0.02]"
      >
        <div
          class="absolute inset-0 bg-[radial-gradient(circle_at_center,var(--primary)_0%,transparent_70%)]"
        >
        </div>
      </div>
    </div>
  </main>
</WebLayout>
